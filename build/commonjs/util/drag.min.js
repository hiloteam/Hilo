/**
 * Hilo 1.0.2 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Hilo=require("..coreHilo"),drag={startDrag:function(e){function t(e){e.stopPropagation(),r(e),v.off(Hilo.event.POINTER_START,t),v.fire("dragStart",E),v.__dragX=v.x-E.x,v.__dragY=v.y-E.y,a||(a=this.getStage()),a.on(Hilo.event.POINTER_MOVE,o),document.addEventListener(Hilo.event.POINTER_END,n)}function n(e){document.removeEventListener(Hilo.event.POINTER_END,n),a&&a.off(Hilo.event.POINTER_MOVE,o),v.fire("dragEnd",E),v.on(Hilo.event.POINTER_START,t)}function o(e){r(e),v.fire("dragMove",E);var t=E.x+v.__dragX,n=E.y+v.__dragY;v.x=Math.max(f,Math.min(_,t)),v.y=Math.max(T,Math.min(g,n))}function r(e){E.preX=E.x,E.preY=E.y,E.x=e.stageX,E.y=e.stageY}function i(){document.removeEventListener(Hilo.event.POINTER_END,n),a&&a.off(Hilo.event.POINTER_MOVE,o),v.off(Hilo.event.POINTER_START,t)}var a,v=this;e=e||[-(1/0),-(1/0),1/0,1/0];var E={x:0,y:0,preX:0,preY:0},f=e[0],T=e[1],_=e[2]==1/0?1/0:f+e[2],g=e[3]==1/0?1/0:T+e[3];v.on(Hilo.event.POINTER_START,t),v.stopDrag=i},stopDrag:function(){}};module.exports=drag;