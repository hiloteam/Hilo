/**
 * Hilo 1.0.1 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Hilo=require("../core/Hilo"),HTMLAudio=require("./HTMLAudio"),WebAudio=require("./WebAudio"),WebSound={_audios:{},enableAudio:function(){WebAudio.isSupported&&WebAudio.enable()},getAudio:function(o){o=this._normalizeSource(o);var i=this._audios[o.src];return i||(WebAudio.isSupported?i=new WebAudio(o):HTMLAudio.isSupported&&(i=new HTMLAudio(o)),this._audios[o.src]=i),i},removeAudio:function(o){var i="string"==typeof o?o:o.src,e=this._audios[i];e&&(e.stop(),e.off(),this._audios[i]=null,delete this._audios[i])},_normalizeSource:function(o){var i={};return"string"==typeof o?i={src:o}:Hilo.copy(i,o),i}};module.exports=WebSound;