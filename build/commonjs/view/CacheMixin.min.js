/**
 * Hilo 1.0.1 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Hilo=require("../core/Hilo"),Class=require("../core/Class"),Drawable=require("./Drawable"),_cacheCanvas=Hilo.createElement("canvas"),_cacheContext=_cacheCanvas.getContext("2d"),CacheMixin={_cacheDirty:!0,cache:function(a){(a||this._cacheDirty||!this._cacheImage)&&this.updateCache()},updateCache:function(){_cacheCanvas.width=this.width,_cacheCanvas.height=this.height,this._draw(_cacheContext),this._cacheImage=new Image,this._cacheImage.src=_cacheCanvas.toDataURL(),this.drawable=this.drawable||new Drawable,this.drawable.init(this._cacheImage),this._cacheDirty=!1},setCacheDirty:function(a){this._cacheDirty=a}};module.exports=CacheMixin;