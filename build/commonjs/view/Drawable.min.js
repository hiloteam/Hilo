/**
 * Hilo 1.0.1 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Hilo=require("../core/Hilo"),Class=require("../core/Class"),Drawable=Class.create({constructor:function(e){this.init(e)},image:null,rect:null,init:function(e){var a=this,i=a.image;Drawable.isDrawable(e)?a.image=e:Hilo.copy(a,e,!0);var r=a.image;if("string"==typeof r){if(!i||r!==i.getAttribute("src")){a.image=null;var t=new Image;return t.onload=function(){t.onload=null,a.init(t)},void(t.src=r)}r=a.image=i}r&&!a.rect&&(a.rect=[0,0,r.width,r.height])},Statics:{isDrawable:function(e){if(!e||!e.tagName)return!1;var a=e.tagName.toLowerCase();return"img"===a||"canvas"===a||"video"===a}}});module.exports=Drawable;