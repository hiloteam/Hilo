/**
 * Hilo 1.0.2 for cmd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define(function(t,a,e){var h=t("hilo/core/Hilo"),c=t("hilo/view/Drawable"),i={_cacheDirty:!0,_cacheCanvas:null,_cacheContext:null,cache:function(t){(t||this._cacheDirty||!this._cacheImage)&&this.updateCache()},updateCache:function(){var t=this._cacheCanvas,a=this._cacheContext;h.browser.supportCanvas&&(t||(t=this._cacheCanvas=document.createElement("canvas"),a=this._cacheContext=this._cacheCanvas.getContext("2d")),t.width=Math.max(t.width,this.width),t.height=Math.max(t.height,this.height),a.clearRect(0,0,t.width,t.height),this._draw(a),this._cacheImage=new Image,this._cacheImage.src=t.toDataURL(),this.drawable=this.drawable||new c,this.drawable.init(this._cacheImage),this._cacheDirty=!1)},setCacheDirty:function(t){this._cacheDirty=t}};return i});