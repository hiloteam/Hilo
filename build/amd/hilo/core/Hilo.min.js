/**
 * Hilo 1.0.0 for amd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define("hilo/core/Hilo",function(){var e=function(){var t=window,o=document,r=o.documentElement,a=0;return{getUid:function(e){var t=++a;if(e){var o=e.charCodeAt(e.length-1);return o>=48&&57>=o&&(e+="_"),e+t}return t},viewToString:function(e){for(var t,o=e;o;)t=t?o.id+"."+t:o.id,o=o.parent;return t},copy:function(e,t,o){for(var r in t)(!o||e.hasOwnProperty(r)||void 0!==e[r])&&(e[r]=t[r]);return e},browser:function(){var e=navigator.userAgent,a={iphone:/iphone/i.test(e),ipad:/ipad/i.test(e),ipod:/ipod/i.test(e),ios:/iphone|ipad|ipod/i.test(e),android:/android/i.test(e),webkit:/webkit/i.test(e),chrome:/chrome/i.test(e),safari:/safari/i.test(e),firefox:/firefox/i.test(e),ie:/msie/i.test(e),opera:/opera/i.test(e),supportTouch:"ontouchstart"in t,supportCanvas:null!=o.createElement("canvas").getContext,supportStorage:!1,supportOrientation:"orientation"in t,supportDeviceMotion:"ondevicemotion"in t};try{var i="hilo";localStorage.setItem(i,i),localStorage.removeItem(i),a.supportStorage=!0}catch(n){}var s=a.jsVendor=a.webkit?"webkit":a.firefox?"Moz":a.opera?"O":a.ie?"ms":"",d=a.cssVendor="-"+s+"-",h=o.createElement("div"),c=h.style,p=void 0!=c[s+"Transform"],f=void 0!=c[s+"Perspective"];return f&&(h.id="test3d",c=o.createElement("style"),c.textContent="@media ("+d+"transform-3d){#test3d{height:3px}}",o.head.appendChild(c),r.appendChild(h),f=3==h.offsetHeight,o.head.removeChild(c),r.removeChild(h)),a.supportTransform=p,a.supportTransform3D=f,a}(),event:function(){var e="ontouchstart"in t;return{POINTER_START:e?"touchstart":"mousedown",POINTER_MOVE:e?"touchmove":"mousemove",POINTER_END:e?"touchend":"mouseup"}}(),align:{TOP_LEFT:"TL",TOP:"T",TOP_RIGHT:"TR",LEFT:"L",CENTER:"C",RIGHT:"R",BOTTOM_LEFT:"BL",BOTTOM:"B",BOTTOM_RIGHT:"BR"},getElementRect:function(e){try{var o=e.getBoundingClientRect()}catch(a){o={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var i=(t.pageXOffset||r.scrollLeft)-(r.clientLeft||0)||0,n=(t.pageYOffset||r.scrollTop)-(r.clientTop||0)||0,s=t.getComputedStyle?getComputedStyle(e):e.currentStyle,d=parseInt,h=d(s.paddingLeft)+d(s.borderLeftWidth)||0,c=d(s.paddingTop)+d(s.borderTopWidth)||0,p=d(s.paddingRight)+d(s.borderRightWidth)||0,f=d(s.paddingBottom)+d(s.borderBottomWidth)||0,l=o.top||0,g=o.left||0;return{left:g+i+h,top:l+n+c,width:o.right-p-g-h,height:o.bottom-f-l-c}},createElement:function(e,t){var r,a,i,n=o.createElement(e);for(r in t)if(a=t[r],"style"===r)for(i in a)n.style[i]=a[i];else n[r]=a;return n},getElement:function(e){return o.getElementById(e)},setElementStyleByView:function(t){var o=t.drawable,r=o.domElement.style,a=t._stateCache||(t._stateCache={}),i=e.browser.jsVendor,n="px",s=!1;if(this.cacheStateIfChanged(t,["visible"],a)&&(r.display=t.visible?"":"none"),this.cacheStateIfChanged(t,["alpha"],a)&&(r.opacity=t.alpha),t.visible&&!(t.alpha<=0)){this.cacheStateIfChanged(t,["width"],a)&&(r.width=t.width+n),this.cacheStateIfChanged(t,["height"],a)&&(r.height=t.height+n),this.cacheStateIfChanged(t,["depth"],a)&&(r.zIndex=t.depth+1),(s=this.cacheStateIfChanged(t,["pivotX","pivotY"],a))&&(r[i+"TransformOrigin"]=t.pivotX+n+" "+t.pivotY+n),(this.cacheStateIfChanged(t,["x","y","rotation","scaleX","scaleY"],a)||s)&&(r[i+"Transform"]=this.getTransformCSS(t)),this.cacheStateIfChanged(t,["background"],a)&&(r.backgroundColor=t.background),r.pointerEvents||(r.pointerEvents="none");var d=o.image;if(d){var h=d.src;h!==a.image&&(a.image=h,r.backgroundImage="url("+h+")");var c=o.rect;if(c){var p=c[0],f=c[1];p!==a.sx&&(a.sx=p,r.backgroundPositionX=-p+n),f!==a.sy&&(a.sy=f,r.backgroundPositionY=-f+n)}}var l=t.mask;if(l){var g=l.drawable.domElement.style.backgroundImage;g!==a.maskImage&&(a.maskImage=g,r[i+"MaskImage"]=g,r[i+"MaskRepeat"]="no-repeat");var m=l.x,u=l.y;(m!==a.maskX||u!==a.maskY)&&(a.maskX=m,a.maskY=u,r[i+"MaskPosition"]=m+n+" "+u+n)}}},cacheStateIfChanged:function(e,t,o){var r,a,i,n,s=!1;for(r=0,a=t.length;a>r;r++)i=t[r],n=e[i],n!=o[i]&&(o[i]=n,s=!0);return s},getTransformCSS:function(e){var t=this.browser.supportTransform3D,o=t?"3d":"";return"translate"+o+"("+(e.x-e.pivotX)+"px, "+(e.y-e.pivotY)+(t?"px, 0px)":"px)")+"rotate"+o+(t?"(0, 0, 1, ":"(")+e.rotation+"deg)scale"+o+"("+e.scaleX+", "+e.scaleY+(t?", 1)":")")}}}();return e});