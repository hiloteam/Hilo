/**
 * Hilo 1.4.0 for standalone
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
!function(t){t.Hilo||(t.Hilo={});var e=t.Hilo,r={_isDragStart:!1,dragNeedTransform:!1,startDrag:function(t){function r(t){t.stopPropagation(),o(t),g.off(e.event.POINTER_START,r),E.x=g.x,E.y=g.y,g.dragNeedTransform&&g.parent&&g.parent.getConcatenatedMatrix().transformPoint(E),g.__dragX=E.x-d.x,g.__dragY=E.y-d.y,f||(f=g.getStage()),f.on(e.event.POINTER_MOVE,a),document.addEventListener(e.event.POINTER_END,n),g.fire("dragStart",d)}function n(t){document.removeEventListener(e.event.POINTER_END,n),f&&f.off(e.event.POINTER_MOVE,a),g.on(e.event.POINTER_START,r),g.fire("dragEnd",d)}function a(t){o(t),E.x=d.x+g.__dragX,E.y=d.y+g.__dragY,g.dragNeedTransform&&g.parent&&g.parent.getConcatenatedMatrix().invert().transformPoint(E),g.x=Math.max(_,Math.min(v,E.x)),g.y=Math.max(s,Math.min(T,E.y)),g.fire("dragMove",d)}function o(t){d.preX=d.x,d.preY=d.y,d.x=t.stageX,d.y=t.stageY}function i(){g._isDragStart=!1,document.removeEventListener(e.event.POINTER_END,n),f&&f.off(e.event.POINTER_MOVE,a),g.off(e.event.POINTER_START,r)}var g=this;g._isDragStart&&g.stopDrag(),g._isDragStart=!0;var f;t=t||[-(1/0),-(1/0),1/0,1/0];var d={x:0,y:0,preX:0,preY:0},_=t[0],s=t[1],v=t[2]==1/0?1/0:_+t[2],T=t[3]==1/0?1/0:s+t[3],E={x:0,y:0};g.on(e.event.POINTER_START,r),g.stopDrag=i},stopDrag:function(){this._isDragStart=!1}};t.Hilo.drag=r}(window);