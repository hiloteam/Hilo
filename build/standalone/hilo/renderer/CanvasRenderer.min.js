/**
 * Hilo 1.4.0 for standalone
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
!function(t){t.Hilo||(t.Hilo={});var e=t.Hilo.Class,a=t.Hilo,i=t.Hilo.Renderer,n=e.create({Extends:i,constructor:function(t){n.superclass.constructor.call(this,t),this.context=this.canvas.getContext("2d")},renderType:"canvas",context:null,startDraw:function(t){return!!(t.visible&&t.alpha>0)&&(t===this.stage&&this.context.clearRect(0,0,t.width,t.height),t.blendMode!==this.blendMode&&(this.context.globalCompositeOperation=this.blendMode=t.blendMode),this.context.save(),!0)},draw:function(t){var e=this.context,a=t.width,i=t.height,n=t.background;n&&(e.fillStyle=n,e.fillRect(0,0,a,i));var r=t.drawable,s=r&&r.image;if(s){var l=r.rect,o=l[2],c=l[3],h=l[4],d=l[5];if(!o||!c)return;a||i||(a=t.width=o,i=t.height=c),(h||d)&&e.translate(h-.5*o,d-.5*c),e.drawImage(s,l[0],l[1],o,c,0,0,a,i)}},endDraw:function(t){this.context.restore()},transform:function(t){var e=t.drawable;if(e&&e.domElement)return void a.setElementStyleByView(t);var i=this.context,n=t.scaleX,r=t.scaleY;if(t===this.stage){var s=this.canvas.style,l=t._scaleX,o=t._scaleY,c=!1;(!l&&1!=n||l&&l!=n)&&(t._scaleX=n,s.width=n*t.width+"px",c=!0),(!o&&1!=r||o&&o!=r)&&(t._scaleY=r,s.height=r*t.height+"px",c=!0),c&&t.updateViewport()}else{var h=t.x,d=t.y,v=t.pivotX,f=t.pivotY,g=t.rotation%360,w=t.transform,p=t.mask;p&&(p._render(this),i.clip());var u=t.align;if(u){var x=t.getAlignPosition();h=x.x,d=x.y}w?i.transform(w.a,w.b,w.c,w.d,w.tx,w.ty):(0==h&&0==d||i.translate(h,d),0!=g&&i.rotate(g*Math.PI/180),1==n&&1==r||i.scale(n,r),0==v&&0==f||i.translate(-v,-f))}t.alpha>0&&(i.globalAlpha*=t.alpha)},remove:function(t){var e=t.drawable,a=e&&e.domElement;if(a){var i=a.parentNode;i&&i.removeChild(a)}},clear:function(t,e,a,i){this.context.clearRect(t,e,a,i)},resize:function(t,e){var a=this.canvas,i=this.stage,n=a.style;a.width=t,a.height=e,n.width=i.width*i.scaleX+"px",n.height=i.height*i.scaleY+"px"}});t.Hilo.CanvasRenderer=n}(window);