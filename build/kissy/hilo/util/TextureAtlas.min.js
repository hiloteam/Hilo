/**
 * Hilo 1.1.10 for kissy
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
KISSY.add("hilo/util/TextureAtlas",function(r,t){var e=function(){function r(r){var t,e,n=r.frames;if(!n)return null;var a,i=[];if(n instanceof Array)for(t=0,e=n.length;t<e;t++)a=n[t],i[t]={image:r.image,rect:a};else{var o=n.frameWidth,s=n.frameHeight,f=r.width/o|0,u=r.height/s|0,l=n.numFrames||f*u;for(t=0;t<l;t++)i[t]={image:r.image,rect:[t%f*o,(t/f|0)*s,o,s]}}return i}function e(r,t){var e,i,o=r.sprites;if(!o)return null;var s,f,u,l={};for(var c in o){if(s=o[c],a(s))f=n(t[s]);else if(s instanceof Array)for(f=[],e=0,i=s.length;e<i;e++){var h,m=s[e];a(m)?u=n(t[m]):(h=m.rect,a(h)&&(h=t[m.rect]),u=n(h,m)),f[e]=u}else for(f=[],e=s.from;e<=s.to;e++)f[e-s.from]=n(t[e],s[e]);l[c]=f}return l}function n(r,t){var e={image:r.image,rect:r.rect};return t&&(e.name=t.name||null,e.duration=t.duration||0,e.stop=!!t.stop,e.next=t.next||null),e}function a(r){return"number"==typeof r}return t.create({constructor:function(t){this._frames=r(t),this._sprites=e(t,this._frames)},_frames:null,_sprites:null,getFrame:function(r){var t=this._frames;return t&&t[r]},getSprite:function(r){var t=this._sprites;return t&&t[r]},Statics:{createSpriteFrames:function(r,t,e,n,a,i,o){var s,f;if("[object Array]"===Object.prototype.toString.call(r)){var u=[];for(s=0,f=r.length;s<f;s++)u=u.concat(this.createSpriteFrames.apply(this,r[s]));return u}if("string"==typeof t){var l=t.split(",");t=[];for(var c=0,h=l.length;c<h;c++){var m=l[c].split("-");if(1==m.length)t.push(parseInt(m[0]));else for(s=parseInt(m[0]),f=parseInt(m[1]);s<=f;s++)t.push(s)}}var p=Math.floor(e.width/n);for(s=0;s<t.length;s++){var g=t[s];t[s]={rect:[n*(g%p),a*Math.floor(g/p),n,a],image:e,duration:o}}return t[0].name=r,i?t[t.length-1].next=r:t[t.length-1].stop=!0,t}}})}();return e},{requires:["hilo/core/Class"]});